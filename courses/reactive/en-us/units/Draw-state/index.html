<!DOCTYPE html>
<html moznomarginboxes=""><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>Your own Drawing Functions</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="bootstrap.css" title="default"/><link rel="stylesheet" type="text/css" href="pretty-printing.css" title="default"/><link rel="stylesheet" type="text/css" href="codemirror.css" title="default"/><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="textbook.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="codemirror.js"></script><script type="text/javascript" src="runmode.js"></script><script type="text/javascript" src="scheme2.js"></script><script type="text/javascript" src="pyret-mode.js"></script><script type="text/javascript" src="bootstraplesson.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML%2Chttp%3A%2F%2Fwww.cs.wpi.edu%2F%7Ekfisler%2Fmathjaxlocal.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="mature"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Your own Drawing Functions</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Your_own_.Drawing_.Functions%29" class="tocsubseclink" data-pltdoc="x">Your own Drawing Functions</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><a name="(part._.Your_own_.Drawing_.Functions)"></a><p><script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script><noscript></noscript><script type="text/javascript" src="easyXDM.min.js"></script><noscript></noscript><script type="text/javascript" src="json2.min.js"></script><noscript></noscript><script type="text/javascript" src="wescheme-embedded.js"></script><noscript></noscript><script type="text/javascript" src="bootstrap-helpers.js"></script><noscript></noscript></p><div class="headercontent"><span class="BootstrapTitle"><img src="pict.png" alt="image" width="150" height="150"/>Your own Drawing Functions</span></div><div class="SubFlow" id="overviewDescr"><span class="BootstrapHeader">Unit Overview</span><p>Starting with a bare-bones reactor, students brainstorm possible animations, and write their own draw-state functions</p></div><blockquote class="OverviewBoundary"><iframe id="forum_embed"></iframe><div class="summary"><div class="" id="BootstrapAgenda"><p>Agenda</p><ul class="BootstrapAgendaList"><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">30 min</span><a href="#lesson_draw-stateforaSingleNumber48554"><span class="BSLessonName">draw-state for a Single Number</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">30 min</span><a href="#lesson_draw-stateforTwoNumbers48555"><span class="BSLessonName">draw-state for Two Numbers</span></a></p></li></ul></div><p><span href="../../../../reactive/en-us/units/Draw-state/index.html" class="TranslationButton">English</span></p><p><span href="#" class="TranslationButton">add translation</span></p><div id="ProductOutcomes" class=" "><span class="BootstrapHeader">Product Outcomes:</span><ul><li><p>Students write the draw-state function for a reactor using a single number</p></li><li><p>Students write the draw-state function for a reactor using a state containing two numbers</p></li></ul></div><div id="LearningObjectives" class=" "><span class="BootstrapHeader">Standards and Evidence Statements:</span><p>Standards with prefix BS are specific to Bootstrap; others are from the Common Core. Mouse over each standard to see its corresponding evidence statements. Our <a href="http://www.bootstrapworld.org/materials/Standards.shtml" target="_blank">Standards Document</a> shows which units cover each standard. </p><ul class="LearningObjectivesList"><li class="LearningObjectivesListItem"><div class="LearningObjectivesListItemContents"><p><span style="font-weight: bold">BS-DR.4</span>: The student can solve word problems that involve data structures</p><ul class="EvidenceStatementsList"></ul></div></li><li class="LearningObjectivesListItem"><div class="LearningObjectivesListItemContents"><p><span style="font-weight: bold">BS-IDE</span>: The student is familiar with using a REPL, entering expressions properly, and interpreting error messages</p><ul class="EvidenceStatementsList"></ul></div></li><li class="LearningObjectivesListItem"><div class="LearningObjectivesListItemContents"><p><span style="font-weight: bold">BS-M</span>: The student models a problem in context and determines the data needed to describe the problem</p><ul class="EvidenceStatementsList"></ul></div></li><li class="LearningObjectivesListItem"><div class="LearningObjectivesListItemContents"><p><span style="font-weight: bold">BS-PL.1</span>: The student is familiar with declaring values and applying built-in functions using the programming language</p><ul class="EvidenceStatementsList"></ul></div></li><li class="LearningObjectivesListItem"><div class="LearningObjectivesListItemContents"><p><span style="font-weight: bold">BS-PL.4</span>: The student is familiar with the syntax for conditionals</p><ul class="EvidenceStatementsList"></ul></div></li><li class="LearningObjectivesListItem"><div class="LearningObjectivesListItemContents"><p><span style="font-weight: bold">BS-R</span>: The student is able to write interactive programs using the &rsquo;Reactor&rsquo; construct</p><ul class="EvidenceStatementsList"></ul></div></li></ul></div><span class="BootstrapHeader">Length: 60 Minutes</span><p></p><div id="Materials" class=" "><span class="BootstrapHeader">Materials:</span><ul></ul></div><div id="Preparation" class=" "><span class="BootstrapHeader">Preparation:</span><ul><li><p>Make sure students have completed units 1 through 3 before starting this lesson.</p></li><li><p>The <a href="https://code.pyret.org/editor#share=0B9rKDmABYlJVSFRPYWlsajJ1SmM" target="_blank">Blank Single Number draw-state</a> file preloaded on student machines</p></li><li><p>The <a href="https://code.pyret.org/editor#share=0B9rKDmABYlJVcTZ1WTdReUxTMTA" target="_blank">Blank 2 Number draw-state</a> file preloaded on student machines</p></li></ul></div><div id="LanguageTable" class=" "><table cellspacing="0" cellpadding="0" class="thetable"><tr><td align="center" class="BootstrapTable"><p class="BootstrapTableHeader">Types</p></td><td align="center" class="BootstrapTable"><p class="BootstrapTableHeader">Functions</p></td><td align="center" class="BootstrapTable"><p class="BootstrapTableHeader">Values</p></td></tr><tr><td align="center" class="BootstrapTable"><p>Number</p></td><td align="center" class="BootstrapTable"><p><tt class="pyret">+ - * / sqr sqrt expt</tt></p></td><td align="center" class="BootstrapTable"><p>1 ,4 ,44.6</p></td></tr><tr><td align="center" class="BootstrapTable"><p>String</p></td><td align="center" class="BootstrapTable"><p><tt class="pyret">string-append string-length</tt></p></td><td align="center" class="BootstrapTable"><p> "hello" </p></td></tr><tr><td align="center" class="BootstrapTable"><p>Image</p></td><td align="center" class="BootstrapTable"><p><tt class="pyret">rectangle circle triangle ellipse star scale rotate put-image</tt></p></td><td align="center" class="BootstrapTable"><p>(circle 25 "solid" "red")</p></td></tr></table></div><p><div id="lessonToolbar" class="fixed"><input type="button" valueShow="Show Teacher Notes" valueHide="Hide Teacher Notes" value="Show Teacher Notes" onclick="toggleTeacherNotes(this);"></input><br/><input type="button" value="Discussion Group" onclick="showGroup()"/><br/><input type="button" value="Slides" onclick="showSlides()"/></div></p></div></blockquote><blockquote class="LessonBoundary"><div class="BootstrapPageTitle">draw-state for a Single Number</div><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><p>Students explore the different animations they can create using a single number</p><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul></ul></div><div class="LessonEvidenceStatementes"><p><span style="font-weight: bold">Evidence Statementes</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul><li><p>Students write the draw-state function for a reactor using a single number</p></li></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul><li></li></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul><li><p>Make sure students have completed units 1 through 3 before starting this lesson.</p></li><li><p>The <a href="https://code.pyret.org/editor#share=0B9rKDmABYlJVSFRPYWlsajJ1SmM" target="_blank">Blank Single Number draw-state</a> file preloaded on student machines</p></li></ul></div></div><div class="segment"><p><a name="lesson_draw-stateforaSingleNumber48554"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName"><span class="Slide-Lesson-Title">draw-state for a Single Number</span>



<span class="time">(Time 30 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><span class="slideText"><span class="BootstrapSlideTitle">draw-state for a Single Number</span></span>The majority of reactive programs you&rsquo;ll write in this course will use data structures consisting of multiple pieces of data, whether that be Numbers, Strings, Images, or Booleans. However, it&rsquo;s not <span style="font-style: italic">required</span> to have a full data structure in order to use a reactor. In fact, we can create an animation based on just a single number!</p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><div class="activity"><p>Open the <a href="https://code.pyret.org/editor#share=0B9rKDmABYlJVSFRPYWlsajJ1SmM" target="_blank">Blank Single Number draw-state</a> file and take a look at the code. Before hitting &rsquo;Run&rsquo;, can you guess what this code will do?</p></div><p>&nbsp;<textarea class="pyret">
include image
include reactors

# next-state-tick :: Number -&gt; Number
fun next-state-tick(n):
  n + 1
end

# draw-state :: Number -&gt; Image
fun draw-state(n):

  "fix me!"

end

num-react = reactor:
  init: 1,
  # to-draw: draw-state,
  on-tick: next-state-tick
end

interact(num-react)
</textarea></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Notice how there is no <tt class="pyret">data</tt> block in this file. Both the <tt class="pyret">next-state-tick</tt> and the <tt class="pyret">draw-state</tt> function consume a single number, and the initial value given to the reactor is also a single number (in this case, 1.) </div><div class="SIntrapara"><div class="activity"><p>Click &rsquo;Run&rsquo;. What do you see?</p></div></div></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Accordingto the <tt class="pyret">next-state-tick</tt> function, on every clock tick the state (a single number) will increase by one, which is exactly what happens. Since we didn&rsquo;t tell the reactor how to draw the state (the <tt class="pyret">to-draw</tt> part of the reactor is commented out), when the reactor runs we see the state of the reactor (a single number) increasing, instead of an animation. </div><div class="SIntrapara"><div class="activity"><p>What do you think would happen if we had a reactor with a complete <tt class="pyret">draw-state</tt> function, but a <tt class="pyret">next-state-tick</tt> function that never updated the state? (Consuming and producing the same value.)</p></div></div></p></div><div class="teacher"><p>Reinforce the fact that, although the <tt class="pyret">draw-state</tt> and <tt class="pyret">next-state-tick</tt> functions work together within a reactor to produce an animation, each function can work without the other. In this example, <tt class="pyret">next-state-tick</tt> will update the state even without a function to draw the state.</p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">There are much more interesting things we can display using a number as the state of the reactor, however! </div><div class="SIntrapara"><div class="activity"><p>Change the <tt class="pyret">draw-state</tt> function so that it consumes a Number and produces an image. Then, uncomment the <tt class="pyret">to-draw: draw-state</tt> line in the reactor to see an animation when the program runs!</p></div></div></p></div><div class="teacher"><p>Encourage students to brainstorm and share ideas for the <tt class="pyret">draw-state</tt> function before beginning. Some possible options include: </p><ul><li><p>Drawing a star of size <tt class="pyret">n</tt> (so that it gets larger on each tick)</p></li><li><p>Display <tt class="pyret">n</tt> as an image using the <tt class="pyret">text</tt> function.</p></li></ul><p>Have students share back the <tt class="pyret">draw-state</tt> functions they wrote.</p></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><div class="BootstrapPageTitle">draw-state for Two Numbers</div><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><p>Students explore the different animations they can create using a state consisting of two numbers</p><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul></ul></div><div class="LessonEvidenceStatementes"><p><span style="font-weight: bold">Evidence Statementes</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul><li><p>Students write the draw-state function for a reactor using a state containing two numbers</p></li></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul><li></li></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul><li><p>Make sure students have completed units 1 through 3 before starting this lesson.</p></li><li><p>The <a href="https://code.pyret.org/editor#share=0B9rKDmABYlJVcTZ1WTdReUxTMTA" target="_blank">Blank 2 Number draw-state</a> file preloaded on student machines</p></li></ul></div></div><div class="segment"><p><a name="lesson_draw-stateforTwoNumbers48555"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName"><span class="Slide-Lesson-Title">draw-state for Two Numbers</span>



<span class="time">(Time 30 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><div class="SIntrapara"><span class="slideText"><span class="BootstrapSlideTitle">draw-state for Two Numbers</span></span>You&rsquo;ve practiced writing a <tt class="pyret">draw-state</tt> function using a single number as a state, now let&rsquo;s look at something a bit more familiar. </div><div class="SIntrapara"><div class="activity"><p>Open the <a href="https://code.pyret.org/editor#share=0B9rKDmABYlJVcTZ1WTdReUxTMTA" target="_blank">Blank 2 Number draw-state</a> file and take a look at the code.</p></div></div></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">&nbsp;<textarea class="pyret">
include image
include reactors

data AnimationState:
  | state(
      a :: Number,
      b :: Number)
end

START = state(1, 100)

# next-state-tick :: AnimationState -&gt; AnimationState
fun next-state-tick(s):
  state(s.a + 1, s.b - 1)
end

# draw-state :: AnimationState -&gt; Image
fun draw-state(s):

  "fix me!"

end


state-react = reactor:
  init: START,
# to-draw: draw-state,
  on-tick: next-state-tick
end

interact(state-react)
</textarea>
 This code includes a data structure (called <tt class="pyret">AnimationState</tt>) containing two numbers as its fields, <tt class="pyret">a</tt> and <tt class="pyret">b</tt>. As before, the <tt class="pyret">draw-state</tt> function is incomplete, and commented out from the reactor. </div><div class="SIntrapara"><div class="activity"><p>Based on the <tt class="pyret">next-state-tick</tt> function defined here, what do you think will happen when you hit &rsquo;Run&rsquo;? Discuss with your partner, then try it out!</p></div></div></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">With only the <tt class="pyret">next-state-tick</tt> function, we can see the state updating, increasing the first number by 1 and decreasing the second number by 1 each tick. </div><div class="SIntrapara"><div class="activity"><p>How could you define a <tt class="pyret">draw-state</tt> function to show something interesting when the program runs? Branstorm with your partner, then change the existing, broken <tt class="pyret">draw-state</tt> function to consume an <tt class="pyret">AnimationState</tt> and produce an image. Then, comment out the <tt class="pyret">to-draw: draw-state</tt> line in the reactor to see an animation when the program runs!</p></div></div></p></div><div class="teacher"><p>Some possible ideas for this activity: </p><ul><li><p>Display two shapes of size <tt class="pyret">a</tt> and <tt class="pyret">b</tt>, which get larger and smaller, respectively, as the reactor runs.</p></li><li><p>Make <tt class="pyret">a</tt> and <tt class="pyret">b</tt> the coordinates of an image, moving down and to the right across a background as the reactor runs.</p></li></ul><p>Have students share back what they brainstormed before beginning, then share the completed <tt class="pyret">draw-state</tt> functions they wrote, and the animations they created!</p></div></li></ul></div></div></blockquote><p></p><div id="copyright"><a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank"><img src="pict_2.png" alt="image" width="88" height="31"/></a>Bootstrap:Reactive by Emma Youndtsmith, Emmanuel Schanzer, Kathi Fisler, Shriram Krishnamurthi, and Joe Politz is licensed under a <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">Creative Commons 4.0 Unported License</a>. Based on a work at <a href="http://www.bootstrapworld.org/">www.BootstrapWorld.org</a>. Permissions beyond the scope of this license may be available by contacting <a href="mailto:schanzer@BootstrapWorld.org">schanzer@BootstrapWorld.org</a>.</div></div></div><div id="contextindicator">&nbsp;</div></body></html>