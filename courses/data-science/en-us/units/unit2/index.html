<!DOCTYPE html>
<html moznomarginboxes=""><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>Unit 2: Defining Values and Functions </title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="bootstrap.css" title="default"/><link rel="stylesheet" type="text/css" href="pretty-printing.css" title="default"/><link rel="stylesheet" type="text/css" href="codemirror.css" title="default"/><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="textbook.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="codemirror.js"></script><script type="text/javascript" src="runmode.js"></script><script type="text/javascript" src="scheme2.js"></script><script type="text/javascript" src="pyret-mode.js"></script><script type="text/javascript" src="bootstraplesson.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML%2Chttp%3A%2F%2Fwww.cs.wpi.edu%2F%7Ekfisler%2Fmathjaxlocal.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="mature"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Unit 2:<span class="mywbr"> &nbsp;</span> Defining Values and Functions </a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Unit_2__.Defining_.Values_and_.Functions_%29" class="tocsubseclink" data-pltdoc="x">Unit 2:<span class="mywbr"> &nbsp;</span> Defining Values and Functions </a></td></tr></table></div></div><div class="maincolumn"><div class="main"><a name="(part._.Unit_2__.Defining_.Values_and_.Functions_)"></a><p><script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script><noscript></noscript><script type="text/javascript" src="easyXDM.min.js"></script><noscript></noscript><script type="text/javascript" src="json2.min.js"></script><noscript></noscript><script type="text/javascript" src="wescheme-embedded.js"></script><noscript></noscript><script type="text/javascript" src="bootstrap-helpers.js"></script><noscript></noscript></p><div class="headercontent"><span class="BootstrapTitle"><img src="pict.png" alt="image" width="150" height="150"/><span class="TitleUnitNum">Unit 2</span>Defining Values and Functions </span></div><div class="SubFlow" id="overviewDescr"><span class="BootstrapHeader">Unit Overview</span><p>Students are introduced to the Animals dataset, practice making some charts of the data, and consider the kinds of questions that can be asked of a dataset. They also learn to define values, and to define functions using a structured approach to problem solving called the "Design Recipe". They then use these functions to filter the animals dataset.</p></div><blockquote class="OverviewBoundary"><iframe id="forum_embed"></iframe><div class="summary"><div class="" id="BootstrapAgenda"><p>Agenda</p><ul class="BootstrapAgendaList"><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">15 min</span><a href="#lesson_TheAnimalsDataset70781"><span class="BSLessonName">The Animals Dataset</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">10 min</span><a href="#lesson_DefiningValues70782"><span class="BSLessonName">Defining Values</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">20 min</span><a href="#lesson_QuestionTypes70783"><span class="BSLessonName">Question Types</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">30 min</span><a href="#lesson_DefiningFunctions70784"><span class="BSLessonName">Defining Functions</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">10 min</span><a href="#lesson_FilteringTables70785"><span class="BSLessonName">Filtering Tables</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">5 min</span><a href="#lesson_Closing70786"><span class="BSLessonName">Closing</span></a></p></li></ul></div><p><span href="../../../../data-science/en-us/units/unit2/index.html" class="TranslationButton">English</span></p><p><span href="#" class="TranslationButton">add translation</span></p><div id="ProductOutcomes" class=" "><span class="BootstrapHeader">Product Outcomes:</span><ul><li><p>Students define several row values from the animals table</p></li><li><p>Students define several functions over rows from the animals table</p></li></ul></div><div id="LearningObjectives" class=" "><span class="BootstrapHeader">Standards and Evidence Statements:</span><p>Standards with prefix BS are specific to Bootstrap; others are from the Common Core. Mouse over each standard to see its corresponding evidence statements. Our <a href="http://www.bootstrapworld.org/materials/Standards.shtml" target="_blank">Standards Document</a> shows which units cover each standard. </p><ul class="LearningObjectivesList"><li class="LearningObjectivesListItem"><div class="LearningObjectivesListItemContents"><p><span style="font-weight: bold">Data 3.1.1</span>: Use computers to process information, find patterns, and test hypotheses about digitally processed information to gain insight and knowledge. [P4]</p><ul class="EvidenceStatementsList"><li class="EvidenceStatementsListItem"><p>Computers are used in an iterative and interactive way when processing digital information to gain insight and knowledge.</p></li><li class="EvidenceStatementsListItem"><p>Digital information can be filtered and cleaned by using computers to process information.</p></li></ul></div></li><li class="LearningObjectivesListItem"><div class="LearningObjectivesListItemContents"><p><span style="font-weight: bold">Data 3.1.3</span>: Explain the insight and knowledge gained from digitally processed data by using appropriate visualizations, notations, and precise language.</p><ul class="EvidenceStatementsList"><li class="EvidenceStatementsListItem"><p>Visualization tools and software can communicate information about data.</p></li><li class="EvidenceStatementsListItem"><p>Tables, diagrams, and textual displays can be used in communicating insight and knowledge gained from data.</p></li></ul></div></li><li class="LearningObjectivesListItem"><div class="LearningObjectivesListItemContents"><p><span style="font-weight: bold">BS-DR.1</span>: The student is able to translate a word problem into a Contract and Purpose Statement</p><ul class="EvidenceStatementsList"><li class="EvidenceStatementsListItem"><p>given a word problem, identify the domain and range of a function</p></li><li class="EvidenceStatementsListItem"><p>given a word problem, write a Purpose Statement (i.e. - rewrite the problem in their own words)</p></li></ul></div></li><li class="LearningObjectivesListItem"><div class="LearningObjectivesListItemContents"><p><span style="font-weight: bold">BS-DR.2</span>: The student can derive test cases for a given contract and purpose statement</p><ul class="EvidenceStatementsList"></ul></div></li><li class="LearningObjectivesListItem"><div class="LearningObjectivesListItemContents"><p><span style="font-weight: bold">BS-PL.3</span>: The student is able to use the syntax of the programming language to define values and functions</p><ul class="EvidenceStatementsList"><li class="EvidenceStatementsListItem"><p>defining and retrieving values</p></li><li class="EvidenceStatementsListItem"><p>writing test cases</p></li><li class="EvidenceStatementsListItem"><p>defining and using functions</p></li></ul></div></li></ul></div><span class="BootstrapHeader">Length: 90 Minutes</span><p></p><div id="Materials" class=" "><span class="BootstrapHeader">Materials:</span><ul></ul></div><div id="Preparation" class=" "><span class="BootstrapHeader">Preparation:</span><ul><li><p>Computer for each student (or pair), with access to the internet</p></li><li><p>Student <a href="../../resources/workbook/StudentWorkbook.pdf" target="_blank">workbooks</a>, and something to write with</p></li></ul></div><div id="LanguageTable" class=" "><table cellspacing="0" cellpadding="0" class="thetable"><tr><td align="center" class="BootstrapTable"><p class="BootstrapTableHeader">Types</p></td><td align="center" class="BootstrapTable"><p class="BootstrapTableHeader">Functions</p></td><td align="center" class="BootstrapTable"><p class="BootstrapTableHeader">Values</p></td></tr><tr><td align="center" class="BootstrapTable"><p>Number</p></td><td align="center" class="BootstrapTable"><p><tt class="pyret">num-sqrt, num-sqr</tt></p></td><td align="center" class="BootstrapTable"><p><tt class="pyret">4, -1.2. 2/3</tt></p></td></tr><tr><td align="center" class="BootstrapTable"><p>String</p></td><td align="center" class="BootstrapTable"><p><tt class="pyret">string-repeat, string-contains</tt></p></td><td align="center" class="BootstrapTable"><p><tt class="pyret">"hello" "91"</tt></p></td></tr><tr><td align="center" class="BootstrapTable"><p>Boolean</p></td><td align="center" class="BootstrapTable"><p><tt class="pyret"></tt></p></td><td align="center" class="BootstrapTable"><p><tt class="pyret">true false</tt></p></td></tr><tr><td align="center" class="BootstrapTable"><p>Image</p></td><td align="center" class="BootstrapTable"><p><tt class="pyret">triangle, circle, star, rectangle, ellipse, square, text, overlay</tt></p></td><td align="center" class="BootstrapTable"><p><img src="pict_2.png" alt="image" width="30" height="30"/><img src="pict_3.png" alt="image" width="30" height="26"/></p></td></tr><tr><td align="center" class="BootstrapTable"><p>Table</p></td><td align="center" class="BootstrapTable"><p><tt class="pyret">.row-n</tt></p></td><td align="center" class="BootstrapTable"><p></p></td></tr></table></div><p><div id="lessonToolbar" class="fixed"><input type="button" valueShow="Show Teacher Notes" valueHide="Hide Teacher Notes" value="Show Teacher Notes" onclick="toggleTeacherNotes(this);"></input><br/><input type="button" value="Discussion Group" onclick="showGroup()"/><br/><input type="button" value="Slides" onclick="showSlides()"/></div></p></div></blockquote><blockquote class="LessonBoundary"><div class="BootstrapPageTitle">The Animals Dataset</div><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul></ul></div><div class="LessonEvidenceStatementes"><p><span style="font-weight: bold">Evidence Statementes</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul><li><p>Computer for each student (or pair), with access to the internet</p></li><li><p>Student <a href="../../resources/workbook/StudentWorkbook.pdf" target="_blank">workbooks</a>, and something to write with</p></li></ul></div></div><div class="segment"><p><a name="lesson_TheAnimalsDataset70781"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName"><span class="Slide-Lesson-Title">The Animals Dataset</span>



<span class="time">(Time 15 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><div class="SIntrapara"><span class="slideText"><span class="BootstrapSlideTitle">The Animals Dataset</span></span>Now, let&rsquo;s take a look at a real dataset!
</div><div class="SIntrapara"><div class="activity"><ul><li><p>Open the <a href="https://docs.google.com/spreadsheets/d/19m1bUCQo3fCzmSEmWMjTfnmsNIMqiByLytHE0JYtnQM/" target="_blank">Animals Spreadsheet</a> in a new tab. Take a moment to look around. What do you think this table is for?</p></li><li><p>This is some data from an animal shelter, listing animals that have been adopted. We&rsquo;ll be using this as an example throughout the course, but you&rsquo;ll be applying what you learn to <span style="font-style: italic">a dataset you choose</span> as well.</p></li><li><p>Open up the <a href="https://code.pyret.org/editor#share=1uOIyrIU-sOczXu49807OJiDHlf4UGcYB" target="_blank">Animals Dataset</a> starter file in a new tab. Click "Connect to Google Drive" to sign into your Google account, and then click the "Save as" button. This will save a copy of the file into your own account, so that you can make changes and retrieve them later.</p></li></ul></div></div></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p>This file contains some new code that you haven&rsquo;t seen before. As with our Shapes file, we have a few <tt class="pyret">include</tt> lines which import useful libraries for our course. This time, we also include a library that lets us work with Google Sheets:
&nbsp;<textarea class="pyret">
include gdrive-sheets
include tables
include image
</textarea></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p>On line 9, the <tt class="pyret">load-spreadsheet</tt> function is used to load our animal shelter spreadsheet from Google Drive, and give that file a name: <tt class="pyret">shelter-sheet</tt>. After that, we see the following code:
&nbsp;<textarea class="pyret">
# load the 'pets' sheet as a table called animals-table
animals-table = load-table: name, species, age, fixed, legs
  source: pets-sheet.sheet-by-name("pets", true)
end
</textarea>
Just as you saw with our <tt class="pyret">shapes</tt> example, this code <span style="font-style: italic">defines a new table</span>. This time, it&rsquo;s called <tt class="pyret">animals-table</tt>, and it&rsquo;s loaded from our Google Sheet. You can see the names we are giving to each of the columns, called <tt class="pyret">name</tt>, <tt class="pyret">species</tt>, <tt class="pyret">gender</tt>, <tt class="pyret">age</tt>, <tt class="pyret">fixed</tt>, <tt class="pyret">legs</tt>, <tt class="pyret">pounts</tt> and <tt class="pyret">weeks</tt>. (We could use any names we want for these columns, but it&rsquo;s always a good idea to pick names that make sense!)</p></div><div class="teacher"><p>Have students look back at the column names in the Google Sheet, and in the <tt class="pyret">load-table</tt> function. Point out that they refer to the same columns, even though they have different names!</p></div></li><li class="lessonItem"><div class="student"><p>Click "Run", and type <tt class="pyret">animals-table</tt> into the Interactions Area to see what this table looks like.</p><ul><li><p>How many columns does this table have?</p></li><li><p>For each column, is the data quantitative or categorical? </p></li><li><p>For each column, what datatype is being used? Numbers? Strings? Images? Booleans? </p></li></ul></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><div class="activity"><p>Turn to <a href="../../resources/workbook/StudentWorkbook.pdf" target="_blank">Page 9</a> in your Student Workbook, and fill in the table for Question 2.</p></div></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p>You already know about the <tt class="pyret">.row-n</tt> method, which consumes a number and produces a row from a table. But tables have other methods too! The <tt class="pyret">.order-by</tt> method consumes a String (the name of the column you want to order) and a Boolean (true for ascending, false for descending). Try typing the following expressions into the Interactions Area. What do you get?
&nbsp;<textarea class="pyret">
animals-table.order-by("name", true)
animals-table.order-by("age", false)
</textarea></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p>What is the Domain of <tt class="pyret">.order-by</tt>? What is the Range? Find the contract for this method in your contracts table, and make sure it makes sense!</p></div></li><li class="lessonItem"><div class="student"><div class="activity"><p>Make at least one bar-chart and at least one pie-chart, using columns from the <tt class="pyret">animals-table</tt>. What do you notice? What do you wonder?</p></div></div><div class="teacher"><p>Have students share their noticings and wonderings. Ideally, at least one student will wonder if there&rsquo;s a way to make charts using only a <span style="font-style: italic">subset</span> of the data!</p></div></li><li class="lessonItem"><div class="student"><p>You may already be wondering if there&rsquo;s a way to make charts using only a <span style="font-style: italic">subset</span> of the rows in a table. For example: what if we want to make a bar chart showing only the ages of the cats at the shelter? To do this, we need to learn how to write functions of our own, which can tell us if an animal is a cat or not, fixed or not, and so on.</p></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><div class="BootstrapPageTitle">Defining Values</div><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul><li><p>Students learn about value definitions in Pyret</p></li></ul></div><div class="LessonEvidenceStatementes"><p><span style="font-weight: bold">Evidence Statementes</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul><li><p>Students define several row values from the animals table</p></li></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul><li><p>Computer for each student (or pair), with access to the internet</p></li><li><p>Student <a href="../../resources/workbook/StudentWorkbook.pdf" target="_blank">workbooks</a>, and something to write with</p></li></ul></div></div><div class="segment"><p><a name="lesson_DefiningValues70782"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName"><span class="Slide-Lesson-Title">Defining Values</span>



<span class="time">(Time 10 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><div class="SIntrapara"><span class="slideText"><span class="BootstrapSlideTitle">Defining Values</span></span>As you&rsquo;ve seen, Pyret allows us to define names for values using the <tt class="pyret">=</tt> sign. In math, you&rsquo;re probably used to seeing definitions like <script type="math/tex">x = 4</script>, which defines the name <tt class="pyret">x</tt> to be the value <tt class="pyret">4</tt>. Pyret works the same way, and you&rsquo;ve already seen two names defined in this file: <tt class="pyret">shelter-sheet</tt> and <tt class="pyret">animals-table</tt>. We generally write definitions on the left, in the Definitions Area.
You can add your own definitions, for example:
&nbsp;<textarea class="pyret">
name = "Maya"
sum = 2 + 2
img = triangle(10, "solid", "red")
</textarea>
</div><div class="SIntrapara"><div class="activity"><p>With your partner, take turns adding definitions to this file:</p><ul><li><p>Define a value with name <tt class="pyret">food</tt>, whose value is a String representing your favorite food</p></li><li><p>Define a value with name <tt class="pyret">year</tt>, whose value is a Number representing the current year</p></li><li><p>Define a value with name <tt class="pyret">likes-cats</tt>, whose value is a Boolean that is true if you like cats and false if you don&rsquo;t</p></li></ul></div></div></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Each row of our <tt class="pyret">animals-table</tt> represents a single animal in our shelter. We can use the <tt class="pyret">row-n</tt> method to define values. Type the following lines of code into the Definitions Area and click "Run":
&nbsp;<textarea class="pyret">
animalA = animals-table.row-n(1)
animalB = animals-table.row-n(10)
</textarea>
What happens when you evaluate <tt class="pyret">animalA</tt> in the Interactions Area?
</div><div class="SIntrapara"><div class="activity"><p>Define <span style="font-style: italic">at least two</span> additional values to be animals from the <tt class="pyret">animals-table</tt>, called <tt class="pyret">animalC</tt> and <tt class="pyret">animalD</tt>.</p></div></div></p></div><div class="teacher"></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><div class="BootstrapPageTitle">Question Types</div><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul><li><p>Students learn about different categories of questions</p></li></ul></div><div class="LessonEvidenceStatementes"><p><span style="font-weight: bold">Evidence Statementes</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul><li></li></ul></div></div><div class="segment"><p><a name="lesson_QuestionTypes70783"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName"><span class="Slide-Lesson-Title">Question Types</span>



<span class="time">(Time 20 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><div class="SIntrapara"><span class="slideText"><span class="BootstrapSlideTitle">Question Types</span></span>Once we have a dataset, we can start answering questions! But how do you know what questions to ask? There&rsquo;s an art to asking the right questions, and good Data Scientists think hard about what kind of questions can and can&rsquo;t be answered.
 </div><div class="SIntrapara"><div class="activity"><p>Turn to <a href="../../resources/workbook/StudentWorkbook.pdf" target="_blank">Page 9</a> in your Student Workbook, and write down your own questions under section 3.</p></div></div></p></div><div class="teacher"><p>Have students brainstorm some questions they might ask of the animals table.</p></div></li><li class="lessonItem"><div class="student"><p>Most questions can be broken down into one of three categories:</p><ul><li><p><span style="font-weight: bold">Lookup questions</span> - These can be answered simply by looking up a particular value in the table and reading it out. Once you find the value, you&rsquo;re done! Examples of lookup questions might be <span style="font-style: italic">"is Sunflower fixed?"</span> or <span style="font-style: italic">"How many legs does Felix have?"</span></p></li><li><p><span style="font-weight: bold">Compute questions</span> - These can be answered by computing an answer across an entire row or column. Examples of computing questions might be <span style="font-style: italic">"what is the heaviest animal?"</span> or <span style="font-style: italic">"What is the average age of animals at the shelter?"</span></p></li><li><p><span style="font-weight: bold">Analyze questions</span> - These ones take the most work, because they require looking for patterns and trends across <span style="font-style: italic">multiple</span> rows or columns. Examples of analysis questions might be <span style="font-style: italic">"Do cats tend to be adopted faster than dogs?"</span> or <span style="font-style: italic">"Are older animals heavier than young ones?"</span></p></li></ul></div><div class="teacher"><p>Have students come up with lots of questions under each category.</p></div></li><li class="lessonItem"><div class="student"><p>To the right of the questions you wrote on <a href="../../resources/workbook/StudentWorkbook.pdf" target="_blank">Page 9</a>, fill in the the <span style="font-style: italic">type of question</span> you are asking. Is it a Lookup, Compute, or Analyze question?</p></div><div class="teacher"><p>Have students share their findings with the class. Allow time for discussion!</p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Lookup questions are easy to answer: just find the right row and column, and read out the answer! You learned how to do lookups in Pyret in Unit 1. This time, let&rsquo;s practice lookups using value definitions, where each row is defined separately.
</div><div class="SIntrapara"><div class="activity"><p>Complete the activity on <a href="../../resources/workbook/StudentWorkbook.pdf" target="_blank">Page 10</a>.</p></div></div></p></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><div class="BootstrapPageTitle">Defining Functions</div><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul><li><p>Students learn how to define functions using the Design Recipe</p></li></ul></div><div class="LessonEvidenceStatementes"><p><span style="font-weight: bold">Evidence Statementes</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul><li><p>Students define several functions over rows from the animals table</p></li></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul></ul></div></div><div class="segment"><p><a name="lesson_DefiningFunctions70784"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName"><span class="Slide-Lesson-Title">Defining Functions</span>



<span class="time">(Time 30 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><span class="slideText"><span class="BootstrapSlideTitle">Defining Functions</span></span>Suppose you work at the animal shelter, taking care of all the animals who live there. You want to make sure they&rsquo;re healthy, happy, and find good homes. For each animal, you might want to ask certain questions:</p><ul><li><p>What kind of animal is it?</p></li><li><p>Has it been fixed?</p></li><li><p>When was it born?</p></li><li><p>Is it a kitten?</p></li></ul></div><div class="teacher"><p>Have students brainstorm additional questions!</p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Lookups are easy, but they can get really repetitive!
</div><div class="SIntrapara"><div class="activity"><p>In the Interactions Area, type the code that will look up if <tt class="pyret">animalA</tt> is fixed or not.
Then type the code to look up if <tt class="pyret">animalB</tt> is fixed or not. Repeat for <tt class="pyret">animalC</tt> and <tt class="pyret">animalD</tt>. Suppose I wanted to do this for every animal in the table?</p></div></div><div class="SIntrapara">This seems really repetitive, doesn&rsquo;t it? We keep typing the same thing over and over, but all that&rsquo;s really changing is the animal. Wouldn&rsquo;t it be great if Pyret had a function called <tt class="pyret">is-fixed</tt>, that would do this for us?</div></p></div><div class="teacher"><p>Have a student <span style="font-style: italic">act out</span> the <tt class="pyret">is-fixed</tt> function. You give them an animal, and they tell you what they would type to find out if it is fixed.</p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara"><div class="activity"><ul><li><p> What is the name of our function? </p></li><li><p> What type of data did we have to give it? </p></li><li><p> What type of data did it give us back? </p></li></ul></div></div><div class="SIntrapara">Unfortunately, Pyret doesn&rsquo;t have a function like this. But it has something even better: it lets us <span style="font-style: italic">define new functions of our own!</span></div></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">To build our own functions, we&rsquo;ll use a series of steps called the <span style="font-weight: bold">Design Recipe</span>. The Design Recipe is a way to think through the behavior of a function, to make sure we don&rsquo;t make any mistakes with the animals that depend on us! The Design Recipe has three steps, and we&rsquo;ll go through them together for our first function.
</div><div class="SIntrapara"><div class="activity"><p>Turn to page <a href="../../resources/workbook/StudentWorkbook.pdf" target="_blank">Page 11</a> in your Student Workbook.</p></div></div></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p><div class="banner">Step 1: Contract and Purpose</div> The first thing we do is write a Contract for this function. You already know a lot about contracts: they tell us the Name, Domain and Range of the function. Our function tells us if an animal is fixed or not, so we&rsquo;ll call it <tt class="pyret">is-fixed</tt>. It consumes an animal (represented by a <tt class="pyret">Row</tt> in our table), and look up the value in the <tt class="pyret">fixed</tt> column. A Purpose Statement is just a description of what the function does:
&nbsp;<textarea class="pyret">
# is-fixed :: (animal :: Row) -&gt; Boolean
# Consumes an animal, and looks up the value in the fixed column
</textarea></p></div><div class="teacher"><p>Be sure to check students&rsquo; contracts and purpose statements before having them move on!</p></div></li><li class="lessonItem"><div class="student"><p><div class="banner">Step 2: Write Examples</div> Examples are a way for us to tell the computer how our function should behave for a <span style="font-style: italic">specific</span> input. We can write as many examples as we want, but they must all be wrapped in an <tt class="pyret">examples:</tt> block and an <tt class="pyret">end</tt> statement. Examples start with the name of the function we&rsquo;re writing, followed by an example input. Let&rsquo;s use some two pets we defined earlier for our first example.
&nbsp;<textarea class="pyret">
# is-fixed :: (animal :: Row) -&gt; Boolean
# Consumes an animal, and looks up the value in the fixed column
examples:
  is-fixed(animalA) is animalA["fixed"]
  is-fixed(animalB) is animalB["fixed"]
end
</textarea></p></div><div class="teacher"><p>Make sure students understand (1) that <tt class="pyret">is-fixed</tt> came from the Name in our contract, (2) that <tt class="pyret">sasha</tt> and <tt class="pyret">fritz</tt> came from the Domain in our contract, that (3) <tt class="pyret">animalA["fixed"]</tt> came from our purpose statement, and the label also came from the variable name in our contract.</p></div></li><li class="lessonItem"><div class="student"><p>Why didn&rsquo;t we just write <tt class="pyret">true</tt> or <tt class="pyret">false</tt> after the <tt class="pyret">is</tt>? In programming, just like in any other class, it&rsquo;s more important to <span style="font-style: italic">show your work</span> than to just write down the answer. This helps programmers organize their thinking, and can be a useful way of fixing bugs later on. (If you never wrote down what you were thinking, how will you know where you went wrong?)</p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><div class="activity"><ul><li><p>In the examples where we show our work, do you notice a pattern? Most of the code for these examples is exactly the same, and only a small bit is changing: <tt class="pyret">animalA</tt> and <tt class="pyret">animalB</tt>.</p></li><li><p>Circle all of the parts in your example block that are changing.</p></li><li><p>What does the stuff you circled represent? Are <tt class="pyret">animalA</tt> and <tt class="pyret">animalB</tt> years? Legs? No - they are <span style="font-style: italic">animals</span>! Let&rsquo;s label them...</p></li></ul></div></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p><div class="banner">Step 3: Define the Function</div> After having written our examples, this part is easy! The part of the examples before <tt class="pyret">is</tt> tells us how to begin. We start with the <tt class="pyret">fun</tt> keyword (short for "function"), followed by the name of our function and a set of parentheses. This is exactly how all of our examples started, too. But instead of writing <tt class="pyret">mittens</tt>, we&rsquo;ll use the <span style="font-style: italic">label</span> that we gave it. Then we add a colon (<tt class="pyret">:</tt>) in place of <tt class="pyret">is</tt>, and continue to follow our examples, replacing anything we circled with the label. Finally, we finish with the <tt class="pyret">end</tt> keyword.
&nbsp;<textarea class="pyret">
# is-fixed :: (animal :: Row) -&gt; Boolean
# Consumes an animal, and looks up the value in the fixed column
examples:
  is-fixed(animalA) is animalA["fixed"]
  is-fixed(animalB) is animalB["fixed"]
end
fun is-fixed(animal): animal["fixed"]
end
</textarea></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Now that we&rsquo;ve defined our function, we can click "Run" and actually use it!
</div><div class="SIntrapara"><div class="activity"><p>After you&rsquo;ve clicked run, try typing in the following expressions, and see what happens:
&nbsp;<textarea class="pyret">
is-fixed(animalA)
is-fixed(animalB)
is-fixed(animals-table.row-n(8))
is-fixed(animals-table.row-n(11))
</textarea></p></div></div></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p>Our <tt class="pyret">examples:</tt> block is a helpful way to <span style="font-style: italic">check our work</span>, so we don&rsquo;t make mistakes. Suppose we made a mistake in our function definition, and accessed the wrong column:
&nbsp;<textarea class="pyret">
fun is-fixed(animal): animal["age"]
end
</textarea>
When we click "Run", the computer will tell us that our examples don&rsquo;t match the definition! It will literally <span style="font-style: italic">check your work for you!</span></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><div class="activity"><p>For practice, try solving the word problem at the bottom of <a href="../../resources/workbook/StudentWorkbook.pdf" target="_blank">Page 11</a>.</p></div></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p>So far, our functions have been pretty simple: they consume a row, and they produce one column from that row as-is. But supposed we want to <span style="font-style: italic">compute</span> with that value, to find out specifically whether or not an animal is a cat, or whether it&rsquo;s young? Let&rsquo;s walk through a more complex Design Recipe together, by turning to <a href="../../resources/workbook/StudentWorkbook.pdf" target="_blank">Page 12</a>.</p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><div class="activity"><p>Define a function called <tt class="pyret">is-cat</tt>, which consumes a row from the <tt class="pyret">animals-table</tt> and returns true if the animal is a cat.</p><ul><li><p> Is this a lookup, compute or analyze question?</p></li><li><p> What is the name of this function? What are it&rsquo;s Domain and Range? </p></li><li><p> Is Sasha a cat? <span style="font-style: italic">What did you do to get that answer?</span></p></li></ul></div></div><div class="teacher"><p>Have students explain their thinking carefully, step-by-step. Repeat this with other animals.</p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">To find out if an animal is a cat, we look at the <tt class="pyret">species</tt> column and check to see if that value is <span style="font-style: italic">equal to</span> <tt class="pyret">"cat"</tt>. This gives us out first example:
&nbsp;<textarea class="pyret">
# is-cat :: (animal :: Row) -&gt; Boolean
# Consumes an animal, and compute whether the species is "cat"
examples:
  is-cat(animalA) is animalA["species"] == "cat"
end
</textarea>
</div><div class="SIntrapara"><div class="activity"><p> Add a second example. </p></div></div></p></div><div class="teacher"><p>Have students share their examples. Point out that the code is the same for all examples, aside from the name of the animal being tested.</p></div></li><li class="lessonItem"><div class="student"><p>Just we&rsquo;ve done before, let&rsquo;s look at our examples and circle the things that are change from one to the other.</p><ul><li><p> Do all our examples use <tt class="pyret">is-cat</tt>? </p></li><li><p> Do all our examples use the same inputs? </p></li><li><p> Do all our examples look at the same column? </p></li><li><p> Do all our examples compare that column value to "cat"? </p></li></ul><div class="activity"><p> What label should we use here? </p></div></div><div class="teacher"><p>Make sure students realize that the label is specified in the Domain.</p></div></li><li class="lessonItem"><div class="student"><p>As before, we&rsquo;ll use the pattern from our examples to come up with our definition.</p><ul><li><p> What is the function name? </p></li><li><p> What is the name of the variable(s)? </p></li><li><p> What do we do in the body in the function? </p></li></ul><p>&nbsp;<textarea class="pyret">
#is-cat :: (animal :: Row) -&gt; Boolean
# Consumes an animal, and compute whether the species is "cat"
examples:
  is-cat(animalA) is animalA["species"] == "cat"
  is-cat(animalB) is animalB["species"] == "cat"
end
fun is-cat(animal): animal["species"] == "cat"
end
</textarea></p></div></li><li class="lessonItem"><div class="student"><div class="activity"><p>Type this definition - and its examples! - into the Definitions Area, then click "Run" and try using it.</p></div></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><div class="activity"><p>For practice, try solving the word problem at the bottom of <a href="../../resources/workbook/StudentWorkbook.pdf" target="_blank">Page 12</a>.</p></div></div><div class="teacher"></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><div class="BootstrapPageTitle">Filtering Tables</div><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul></ul></div><div class="LessonEvidenceStatementes"><p><span style="font-weight: bold">Evidence Statementes</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul><li></li></ul></div></div><div class="segment"><p><a name="lesson_FilteringTables70785"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName"><span class="Slide-Lesson-Title">Filtering Tables</span>



<span class="time">(Time 10 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><span class="slideText"><span class="BootstrapSlideTitle">Filtering Tables</span></span>You already know about the <tt class="pyret">.row-n</tt> and <tt class="pyret">.order-by</tt> methods. But suppose you want to get a table of only cats? Or a table of only animals that have been fixed? Try typing these expressions into the Interactions Area. What do you get?
&nbsp;<textarea class="pyret">
animals-table.filter(is-fixed)
animals-table.filter(is-cat)
bar-chart(animals-table.filter(is-fixed))
</textarea></p></div><div class="teacher"><p>If time allows, ask students to explain what they think is going on.</p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Find the contract for <tt class="pyret">.filter</tt> in your contracts page. The <tt class="pyret">.filter</tt> method is taking in a <span style="font-style: italic">function</span>, calling it on every row in the table, and producing a new table with only the rows for which it returns <tt class="pyret">true</tt>.
</div><div class="SIntrapara"><div class="activity"><p>Try using the <tt class="pyret">gender</tt> function to filter. What happens?</p></div></div><div class="SIntrapara">Notice that the Domain for <tt class="pyret">.filter</tt> says that <tt class="pyret">test</tt> must be a function (that&rsquo;s the arrow), which consumes a <tt class="pyret">Row</tt> and produces a <tt class="pyret">Boolean</tt>. If the function we pass in produces anything else, we&rsquo;ll get an error.</div></p></div><div class="teacher"><p>If time allows: have them make a pie chart using a table of <span style="font-style: italic">only cats</span>, or a bar chart of <span style="font-style: italic">only the animals that have been fixed</span>.</p></div></li></ul></div></div></blockquote><div class="ExtraExercises"><span class="BootstrapLessonTitle">Additional Exercises:</span><ul><li><p><a href="exercises/Question-Types/What-can-you-answer.pdf" target="_blank">What can you answer?</a></p></li></ul></div><div id="copyright"><a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank"><img src="pict_4.png" alt="image" width="88" height="31"/></a>Bootstrap:Data Science by Emmanuel Schanzer, Sam Dooman, Shriram Krishnamurthi, Joe Politz and Ben Lerner is licensed under a <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">Creative Commons 4.0 Unported License</a>. Based on a work at <a href="http://www.bootstrapworld.org/">www.BootstrapWorld.org</a>. Permissions beyond the scope of this license may be available by contacting <a href="mailto:schanzer@BootstrapWorld.org">schanzer@BootstrapWorld.org</a>.</div><p><div class="SIntrapara"><blockquote class="LessonBoundary"><div class="BootstrapPageTitle">Closing</div><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul></ul></div><div class="LessonEvidenceStatementes"><p><span style="font-weight: bold">Evidence Statementes</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul><li></li></ul></div></div><div class="segment"><p><a name="lesson_Closing70786"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName"><span class="Slide-Lesson-Title">Closing</span>



<span class="time">(Time 5 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><span class="slideText"><span class="BootstrapSlideTitle">Closing</span></span>Congratulations! You&rsquo;ve explored the Animals dataset, chosen your own and begun to think critically about threats to validity and how questions and data shape one another. For the rest of this course, you&rsquo;ll be learning new programming and Data Science skills, practicing them with the Animals dataset and then applying them to your own.</p></div><div class="teacher"><p>Have students share which dataset they chose, and pick one question they&rsquo;re looking at.</p></div></li></ul></div></div></blockquote></div><div class="SIntrapara">}</div></p></div></div><div id="contextindicator">&nbsp;</div></body></html>