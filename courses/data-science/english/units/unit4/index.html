<!DOCTYPE html>
<html moznomarginboxes=""><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>Unit 4: Manipulating Tables </title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="bootstrap.css" title="default"/><link rel="stylesheet" type="text/css" href="pretty-printing.css" title="default"/><link rel="stylesheet" type="text/css" href="codemirror.css" title="default"/><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="textbook.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="codemirror.js"></script><script type="text/javascript" src="runmode.js"></script><script type="text/javascript" src="scheme2.js"></script><script type="text/javascript" src="pyret-mode.js"></script><script type="text/javascript" src="bootstraplesson.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML%2Chttp%3A%2F%2Fwww.cs.wpi.edu%2F%7Ekfisler%2Fmathjaxlocal.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="mature"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Unit 4:<span class="mywbr"> &nbsp;</span> Manipulating Tables </a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Unit_4__.Manipulating_.Tables_%29" class="tocsubseclink" data-pltdoc="x">Unit 4:<span class="mywbr"> &nbsp;</span> Manipulating Tables </a></td></tr></table></div></div><div class="maincolumn"><div class="main"><a name="(part._.Unit_4__.Manipulating_.Tables_)"></a><p><script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script><noscript></noscript><script type="text/javascript" src="easyXDM.min.js"></script><noscript></noscript><script type="text/javascript" src="json2.min.js"></script><noscript></noscript><script type="text/javascript" src="wescheme-embedded.js"></script><noscript></noscript><script type="text/javascript" src="bootstrap-helpers.js"></script><noscript></noscript></p><div class="headercontent"><span class="BootstrapTitle"><img src="pict.png" alt="image" width="150" height="150"/><span class="TitleUnitNum">Unit 4</span>Manipulating Tables </span></div><div class="SubFlow" id="overviewDescr"><span class="BootstrapHeader">Unit Overview</span><p>Students extend their knowledge of functions to include methods, and learn about Table methods for sorting, filtering and extending Tables. They also learn about chaining method calls together, and how ordering effects the output.</p></div><blockquote class="OverviewBoundary"><iframe id="forum_embed"></iframe><div class="summary"><div class="" id="BootstrapAgenda"><p>Agenda</p><ul class="BootstrapAgendaList"><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">15 min</span><a href="#lesson_Review42778"><span class="BSLessonName">Review</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">15 min</span><a href="#lesson_IntroducingMethods42779"><span class="BSLessonName">Introducing Methods</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">15 min</span><a href="#lesson_OrderingRows42780"><span class="BSLessonName">Ordering Rows</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">15 min</span><a href="#lesson_FilteringRows42781"><span class="BSLessonName">Filtering Rows</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">15 min</span><a href="#lesson_BuildingColumns42782"><span class="BSLessonName">Building Columns</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">15 min</span><a href="#lesson_ChainingMethods42783"><span class="BSLessonName">Chaining Methods</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">5 min</span><a href="#lesson_Closing42784"><span class="BSLessonName">Closing</span></a></p></li></ul></div><p><span href="../../../../data-science/english/units/unit4/index.html" class="TranslationButton">English</span></p><p><span href="#" class="TranslationButton">add translation</span></p><div id="ProductOutcomes" class=" "><span class="BootstrapHeader">Product Outcomes:</span><ul><li><p>Students sort the animals table in a number of dimensions</p></li><li><p>Students filter the animals table using functions they&rsquo;ve defined earlier</p></li><li><p>Students extend the animals table using functions they&rsquo;ve defined earlier</p></li></ul></div><div id="LearningObjectives" class=" "><span class="BootstrapHeader">Standards and Evidence Statements:</span><p>Standards with prefix BS are specific to Bootstrap; others are from the Common Core. Mouse over each standard to see its corresponding evidence statements. Our <a href="http://www.bootstrapworld.org/materials/Standards.shtml" target="_blank">Standards Document</a> shows which units cover each standard. </p><ul class="LearningObjectivesList"><li class="LearningObjectivesListItem"><div class="LearningObjectivesListItemContents"><p><span style="font-weight: bold">Data 3.1.1</span>: Use computers to process information, find patterns, and test hypotheses about digitally processed information to gain insight and knowledge. [P4]</p><ul class="EvidenceStatementsList"><li class="EvidenceStatementsListItem"><p>Computers are used in an iterative and interactive way when processing digital information to gain insight and knowledge.</p></li><li class="EvidenceStatementsListItem"><p>Digital information can be filtered and cleaned by using computers to process information.</p></li><li class="EvidenceStatementsListItem"><p>Combining data sources, clustering data, and data classification are part of the process of using computers to process information.</p></li><li class="EvidenceStatementsListItem"><p>Insight and knowledge can be obtained from translating and transforming digitally represented information.</p></li></ul></div></li></ul></div><span class="BootstrapHeader">Length: 95 Minutes</span><div id="Glossary" class=" "><span class="BootstrapHeader">Glossary:</span><ul><li><p><span class="vocab">function</span>: a mathematical object that consumes inputs and produces an output</p></li></ul></div><div id="Materials" class=" "><span class="BootstrapHeader">Materials:</span><ul></ul></div><div id="Preparation" class=" "><span class="BootstrapHeader">Preparation:</span><ul><li><p>Computer for each student (or pair), with access to the internet</p></li><li><p>Student <a href="../../resources/workbook/StudentWorkbook.pdf" target="_blank">workbooks</a>, and something to write with</p></li></ul></div><div id="LanguageTable" class=" "><table cellspacing="0" cellpadding="0" class="thetable"><tr><td align="center" class="BootstrapTable"><p class="BootstrapTableHeader">Types</p></td><td align="center" class="BootstrapTable"><p class="BootstrapTableHeader">Functions</p></td><td align="center" class="BootstrapTable"><p class="BootstrapTableHeader">Values</p></td></tr><tr><td align="center" class="BootstrapTable"><p>Number</p></td><td align="center" class="BootstrapTable"><p><tt class="pyret">num-sqrt, num-sqr</tt></p></td><td align="center" class="BootstrapTable"><p><tt class="pyret">4, -1.2. 2/3</tt></p></td></tr><tr><td align="center" class="BootstrapTable"><p>String</p></td><td align="center" class="BootstrapTable"><p><tt class="pyret">string-repeat, string-contains</tt></p></td><td align="center" class="BootstrapTable"><p><tt class="pyret">"hello" "91"</tt></p></td></tr><tr><td align="center" class="BootstrapTable"><p>Boolean</p></td><td align="center" class="BootstrapTable"><p><tt class="pyret"></tt></p></td><td align="center" class="BootstrapTable"><p><tt class="pyret">true false</tt></p></td></tr><tr><td align="center" class="BootstrapTable"><p>Image</p></td><td align="center" class="BootstrapTable"><p><tt class="pyret">triangle, circle, star, rectangle, ellipse, square, text, overlay</tt></p></td><td align="center" class="BootstrapTable"><p><img src="pict_2.png" alt="image" width="30" height="30"/><img src="pict_3.png" alt="image" width="30" height="26"/></p></td></tr></table></div><p><div id="lessonToolbar" class="fixed"><input type="button" valueShow="Show Teacher Notes" valueHide="Hide Teacher Notes" value="Show Teacher Notes" onclick="toggleTeacherNotes(this);"></input><br/><input type="button" value="Discussion Group" onclick="showGroup()"/><br/><input type="button" value="Slides" onclick="showSlides()"/></div></p></div></blockquote><blockquote class="LessonBoundary"><div class="BootstrapPageTitle">Review</div><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul></ul></div><div class="LessonEvidenceStatementes"><p><span style="font-weight: bold">Evidence Statementes</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul><li><p>Computer for each student (or pair), with access to the internet</p></li><li><p>Student <a href="../../resources/workbook/StudentWorkbook.pdf" target="_blank">workbooks</a>, and something to write with</p></li></ul></div></div><div class="segment"><p><a name="lesson_Review42778"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName"><span class="Slide-Lesson-Title">Review</span>



<span class="time">(Time 15 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><div class="SIntrapara"><span class="slideText"><span class="BootstrapSlideTitle">Review</span></span>In the last lesson, you learned how to define functions of your own using the Design Recipe. You defined a number of functions that work on Rows of the <tt class="pyret">animals-table</tt>.
</div><div class="SIntrapara"><div class="activity"><p>What are the steps of the Design Recipe?</p></div></div></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Open <a href="https://code.pyret.org/editor#share=0BzzMl1BJlJDkbnZhbE1QSEE0eEE" target="_blank">Animals Dataset (w/Functions)</a> in a new tab, select "Save As" from the file menu, and click "Run". As you scroll through the file, you&rsquo;ll notice functions defined at the top. Some of these functions are similar to the ones you defined earlier, and others are totally new!
</div><div class="SIntrapara"><div class="activity"><p>Open your student workbook to <a href="../../resources/workbook/StudentWorkbook.pdf" target="_blank">Page 23</a>, and use the code in the Definitions Area to answer the questions there.</p></div></div></p></div><div class="teacher"><p>Note: one of the examples is failing &ndash; this is <span style="font-style: italic">intentional!</span></p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">The animal shelter might use this dataset in many ways. For example, it might want to see a list of animals ordered from oldest-to-youngest, or a list of names in alphabetical order. The shelter might also want to compute <span style="font-style: italic">new columns</span> for their dataset. For example, they might want a new, numeric column that shows the animals&rsquo; age in weeks instead of years, or make a new Boolean column showing which animals are dogs over the age of 2.
</div><div class="SIntrapara"><div class="activity"><p>Complete <a href="../../resources/workbook/StudentWorkbook.pdf" target="_blank">Page 24</a> in your Student Workbook.</p></div></div></p></div><div class="teacher"></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><div class="BootstrapPageTitle">Introducing Methods</div><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul><li><p>Students learn how methods differ from functions in Pyret</p></li></ul></div><div class="LessonEvidenceStatementes"><p><span style="font-weight: bold">Evidence Statementes</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul></ul></div></div><div class="segment"><p><a name="lesson_IntroducingMethods42779"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName"><span class="Slide-Lesson-Title">Introducing Methods</span>



<span class="time">(Time 15 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><span class="slideText"><span class="BootstrapSlideTitle">Introducing Methods</span></span>You&rsquo;ve been calling functions like <tt class="pyret">triangle</tt>, <tt class="pyret">num-sqr</tt> or <tt class="pyret">num-min</tt> for a while now, and the rules are pretty straightforward: at any point, you can just write the name of the function, then pass in one or more arguments inside parentheses. <tt class="pyret">num-sqr(4)</tt> will always evaluate to <tt class="pyret">16</tt>, because the function always works the same way and 4 squared is always 16.</p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Pyret also has another kind of procedure, which behaves a little differently. These procedures are called <span style="font-style: italic">table methods</span>. Let&rsquo;s take a look at one table method, and compare it to a function you already know.
</div><div class="SIntrapara"><div class="activity"><p>Type both of these into the Interactions Area and see what comes out.
&nbsp;<textarea class="pyret">
get-row(animals-table, 2)
animals-table.row-n(2)
</textarea>
Both of these expressions do the same thing, but they are written quite differently. How many differences can you find?</p></div></div></p></div><div class="teacher"><p>Have students volunteer <span style="font-style: italic">as many as they can</span>.</p></div></li><li class="lessonItem"><div class="student"><p>Table methods are different from <span class="vocab">functions</span> in three important ways:</p><ul><li><p><span style="font-style: italic">They are called differently</span>. A method has to be called as part of a Table, and cannot be used on its own. You can write <tt class="pyret">get-row</tt> wherever you like, but <tt class="pyret">.row-n</tt> only works when attached to the name of a Table, separated by a dot.</p></li><li><p><span style="font-style: italic">Their contracts are different.</span> The <tt class="pyret">.row-n</tt> method only exists within the <tt class="pyret">Table</tt> Type, so we can&rsquo;t use its name without also specifying the name of a Table. The contract for a method includes the Type along with the name:
 &nbsp;<textarea class="pyret">
&lt;Table&gt;.row-n :: (index :: Number) -&gt; Row
</textarea></p></li><li><p><span style="font-style: italic">They have a "secret" argument.</span> The following code uses methods and functions to extract the first row of a table. The function takes in two arguments, but the method appears to only take in one. Can you see the secret argument?
&nbsp;<textarea class="pyret">
get-row(t, 0)  # takes in two arguments!
t.row-n(0)     # takes in....one???
</textarea></p></li></ul></div><div class="teacher"><p>This method v. function distinction is subtle, and it&rsquo;s worth spending some time walking through it carefully.</p></div></li><li class="lessonItem"><div class="student"><p>How well do you understand methods? Complete <a href="../../resources/workbook/StudentWorkbook.pdf" target="_blank">Page 25</a> in your Student Workbook.</p></div><div class="teacher"><p>Have students discuss their answers to Question 7 - for the expressions that <span style="font-style: italic">don&rsquo;t</span> work, can they explain why?</p></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><div class="BootstrapPageTitle">Ordering Rows</div><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul><li><p>Students learn how to sort a table in Pyret</p></li></ul></div><div class="LessonEvidenceStatementes"><p><span style="font-weight: bold">Evidence Statementes</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul><li><p>Students sort the animals table in a number of dimensions</p></li></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul></ul></div></div><div class="segment"><p><a name="lesson_OrderingRows42780"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName"><span class="Slide-Lesson-Title">Ordering Rows</span>



<span class="time">(Time 15 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><div class="SIntrapara"><span class="slideText"><span class="BootstrapSlideTitle">Ordering Rows</span></span>Pyret lets you change the order of a table&rsquo;s rows with the <tt class="pyret">order-by</tt> method. Let&rsquo;s take a look at the contract for this method, and an example of that orders the <tt class="pyret">animals-table</tt> by species:
&nbsp;<textarea class="pyret">
# &lt;Table&gt;.order-by :: (col :: String, increasing :: Boolean) -&gt; Table
animals-table.order-by("species", true)
</textarea>
You can find the contract for this method written at the back of your Student Workbook, along with all the other contracts.
</div><div class="SIntrapara"><div class="activity"><p>Type the <tt class="pyret">animals-table.order-by</tt> example into the Interactions Area.
What did you get? What will happen if you change <tt class="pyret">true</tt> to <tt class="pyret">false</tt>? How could you sort the table alphabetically by pet name? In order of oldest-to-youngest?</p></div></div></p></div><div class="teacher"><p>Pyret has a way to sort by multiple columns as well, but that requires one additional concept that students haven&rsquo;t seen yet. Documentation can be <a href="https://www.pyret.org/docs/horizon/tables.html#%28part._tables_.Table_order-by-columns%29">found here</a>.</p></div></li><li class="lessonItem"><div class="student"><div class="activity"><p>In the Interactions Area, use the <tt class="pyret">.order-by</tt> method to produce a table with all the animals sorted alphabetically by name.</p></div></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><div class="activity"><p>In the Interactions Area, use the <tt class="pyret">.order-by</tt> method to produce a table sorted by age from oldest-to-youngest.</p></div></div><div class="teacher"></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><div class="BootstrapPageTitle">Filtering Rows</div><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul><li><p>Students learn how to filter tables in Pyret</p></li></ul></div><div class="LessonEvidenceStatementes"><p><span style="font-weight: bold">Evidence Statementes</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul><li><p>Students filter the animals table using functions they&rsquo;ve defined earlier</p></li></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul></ul></div></div><div class="segment"><p><a name="lesson_FilteringRows42781"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName"><span class="Slide-Lesson-Title">Filtering Rows</span>



<span class="time">(Time 15 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><span class="slideText"><span class="BootstrapSlideTitle">Filtering Rows</span></span>Sometimes we want to create a <span style="font-style: italic">subset</span> of our data. For example, we might want to filter the rows so that we get a table of only the lizards at the shelter! When we want to filter a Table, we can use the <tt class="pyret">.filter</tt> method. The contract for this method is shown below, along with an example expression that filters the <tt class="pyret">animals-table</tt> to show only those who are fixed.
&nbsp;<textarea class="pyret">
# &lt;Table&gt;.filter :: (test :: (Row -&gt; Boolean)) -&gt; Table
animals-table.filter(is-fixed)
</textarea></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Notice that the Domain for the filter method takes in a single value (<tt class="pyret">test</tt>), but that <tt class="pyret">test</tt> is <span style="font-style: italic">also a function!</span> Pyret lets us pass functions into other functions, just as easily as we pass Numbers, Strings, Booleans or Images.
</div><div class="SIntrapara"><div class="activity"><ul><li><p> According to the contract for <tt class="pyret">.filter</tt>, what datatype does the <tt class="pyret">test</tt> function consume? </p></li><li><p> What datatype does the <tt class="pyret">test</tt> function produce? </p></li></ul></div></div></p></div><div class="teacher"><p>Proceed with caution here: do a lot of checking for understanding! Suggestion: have one student "act out" the <tt class="pyret">is-fixed</tt> function, and have the class "input" a few rows from the table.</p></div></li><li class="lessonItem"><div class="student"><div class="activity"><p>In the Interactions Area, use the <tt class="pyret">.filter</tt> method to produce a table of all the kittens.</p></div></div><div class="teacher"></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><div class="BootstrapPageTitle">Building Columns</div><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul><li><p>Students learn how to compute new columns in Pyret</p></li></ul></div><div class="LessonEvidenceStatementes"><p><span style="font-weight: bold">Evidence Statementes</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul><li><p>Students extend the animals table using functions they&rsquo;ve defined earlier</p></li></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul></ul></div></div><div class="segment"><p><a name="lesson_BuildingColumns42782"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName"><span class="Slide-Lesson-Title">Building Columns</span>



<span class="time">(Time 15 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><span class="slideText"><span class="BootstrapSlideTitle">Building Columns</span></span>Sometimes we want to <span style="font-style: italic">add a column</span> to a Table, and we can use the <tt class="pyret">.build-column</tt> method to do just that. The contract for this method is shown below, along with an example expression that adds a birth-year to the <tt class="pyret">animals-table</tt>.
&nbsp;<textarea class="pyret">
# &lt;Table&gt;.build-column :: (col :: String, builder :: (Row -&gt; Value)) -&gt; Table
animals-table.build-column("year", birth-year)
</textarea></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><div class="activity"><p>In the Interactions Area, use the <tt class="pyret">.build-column</tt> method to produce a table that includes a <tt class="pyret">nametag</tt> column, which contains an image of the nametag for each pet.</p></div></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p>How well do you know your table methods? Complete <a href="../../resources/workbook/StudentWorkbook.pdf" target="_blank">Page 26</a> in your Student Workbook.</p></div><div class="teacher"><p>Have students discuss their answers.</p></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><div class="BootstrapPageTitle">Chaining Methods</div><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul><li><p>Students learn the syntax for chaining methods together</p></li></ul></div><div class="LessonEvidenceStatementes"><p><span style="font-weight: bold">Evidence Statementes</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul></ul></div></div><div class="segment"><p><a name="lesson_ChainingMethods42783"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName"><span class="Slide-Lesson-Title">Chaining Methods</span>



<span class="time">(Time 15 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><span class="slideText"><span class="BootstrapSlideTitle">Chaining Methods</span></span>Table methods can be chained together, so that we can build, filter <span style="font-style: italic">and</span> order a Table. For example:
&nbsp;<textarea class="pyret">
# get a table with the nametags of all the fixed animals, ordered by species
animals-table.build-column("year", birth-year).filter(is-fixed).order-by("species", true)
</textarea>
This code takes the <tt class="pyret">animals-table</tt>, and builds a new column. According to our Contracts Page, <tt class="pyret">.build-column</tt> produces a new Table, and that&rsquo;s the Table whose <tt class="pyret">.filter</tt> method we use. That method produces <span style="font-style: italic">yet another Table</span>, and we call that Table&rsquo;s <tt class="pyret">order-by</tt> method. The Table that comes back from that is our final result.</p></div><div class="teacher"><p>Suggestion: use different color markers to draw nested boxes around each part of the expression, showing where each Table came from.</p></div></li><li class="lessonItem"><div class="student"><p>It can be difficult to read code that has lots of method calls chained together, so we can break them up before each "<tt class="pyret">.</tt>"" to make it more readable. Here&rsquo;s the exact same code, written with line breaks:
&nbsp;<textarea class="pyret">
# get a table with the nametags of all the fixed animals, order by species
animals-table
  .build-column("year", birth-year)
  .filter(is-fixed)
  .order-by("species", true)
</textarea></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><div class="activity"><p>Can you chain these methods together correctly to answer the following questions?</p><ul><li><p>Show a table of only cats, sorted oldest-to-youngest.</p></li><li><p>Show a table of only fixed animals, in ascending order of the number of weeks they&rsquo;ve been at the shelter</p></li><li><p>Show a table of only young animals with a new column called <tt class="pyret">nametag</tt> that shows the image of every animal&rsquo;s nametag.</p></li></ul></div></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p>Suppose we wanted to build a new column for a table, and then sort by that column. Compare the two lines of code below. Will they both work?
&nbsp;<textarea class="pyret">
some-table.build-column("total", compute-total).order-by("total")
some-table.order-by("total").build-column("total", compute-total)
</textarea></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p>No - <span style="font-style: italic">the second line will fail!</span> That&rsquo;s because - just as in math - order of operations matters! In the second line, the first method call will produce an error, because the <tt class="pyret">"total"</tt> column does not exist as part of <tt class="pyret">some-table</tt>. In the first line, first make a <span style="font-style: italic">new table</span> by using <tt class="pyret">build-colum</tt>, and then call <tt class="pyret">order-by</tt> on that table. So how do you know when to use each method? You&rsquo;ll learn that in the next lesson...</p></div><div class="teacher"></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><div class="BootstrapPageTitle">Closing</div><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul></ul></div><div class="LessonEvidenceStatementes"><p><span style="font-weight: bold">Evidence Statementes</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul><li></li></ul></div></div><div class="segment"><p><a name="lesson_Closing42784"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName"><span class="Slide-Lesson-Title">Closing</span>



<span class="time">(Time 5 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><div class="SIntrapara"><span class="slideText"><span class="BootstrapSlideTitle">Closing</span></span></div><div class="SIntrapara"><div class="activity"><p>Make sure to save your work.  Hit the Save button in the top left. This will save your program in the code.pyret.org folder within your Google Drive.</p></div></div></p></div><div class="teacher"><p>If your students are working in groups, make sure that each student has access to a version of the program.  Students can share their program with anyone by hitting the Publish button in the top left, choosing "Publish a new copy", then clicking the "Share Link" option.</p></div></li></ul></div></div></blockquote><p></p><div id="copyright"><a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank"><img src="pict_4.png" alt="image" width="88" height="31"/></a>Bootstrap:Data Science by Emmanuel Schanzer, Sam Dooman, Shriram Krishnamurthi, Joe Politz and Ben Lerner is licensed under a <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">Creative Commons 4.0 Unported License</a>. Based on a work at <a href="http://www.bootstrapworld.org/">www.BootstrapWorld.org</a>. Permissions beyond the scope of this license may be available by contacting <a href="mailto:schanzer@BootstrapWorld.org">schanzer@BootstrapWorld.org</a>.</div></div></div><div id="contextindicator">&nbsp;</div></body></html>